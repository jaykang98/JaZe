{"ast":null,"code":"// Settings.tsx\nimport React,{useEffect,useContext}from'react';import styles from'./Settings.module.css';import Button from'../../ui/button/Button';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrash,faPalette,faKey}from'@fortawesome/free-solid-svg-icons';import{HandleAuthContext}from'../../utils/HandleAuth';// Adjusted for context usage\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=()=>{const{setAuth}=useContext(HandleAuthContext);// Using context to access setAuth\n// Function to extract the token from the callback URL and handle it.\nconst handleCallback=()=>{const urlParams=new URLSearchParams(window.location.search);const token=urlParams.get('token');if(token){setAuth(token);// Properly using setAuth from HandleAuth\nconsole.log('Authorization token processed.');}};// Effect to run handleCallback on mount\nuseEffect(()=>{handleCallback();},[handleCallback]);const clearCacheAction=()=>{console.log('Clear cache action');localStorage.removeItem('yourItemKey');};const changeThemeAction=()=>{console.log('Change theme action');};const authenticationAction=()=>{const apiKey='053905e1fc8b0de378dc341a24ec68c7';const cbURL=encodeURIComponent(window.location.href);const url=\"https://www.last.fm/api/auth/?api_key=\".concat(apiKey,\"&cb=\").concat(cbURL);window.location.href=url;console.log('Get authorization action initiated.');};const settingsOptions=[{id:'clearCache',label:'Clear Cache',action:clearCacheAction,icon:faTrash},{id:'themeSwap',label:'Change Theme',action:changeThemeAction,icon:faPalette},{id:'getAuth',label:'Authentication',action:authenticationAction,icon:faKey}];return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Settings\"}),/*#__PURE__*/_jsx(\"table\",{className:styles.settingsTable,children:/*#__PURE__*/_jsx(\"tbody\",{children:settingsOptions.map(option=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:option.icon})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:option.id,className:styles.label,children:option.label})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:option.action,children:option.label})})]},option.id))})})]});};export default Settings;","map":{"version":3,"names":["React","useEffect","useContext","styles","Button","FontAwesomeIcon","faTrash","faPalette","faKey","HandleAuthContext","jsx","_jsx","jsxs","_jsxs","Settings","setAuth","handleCallback","urlParams","URLSearchParams","window","location","search","token","get","console","log","clearCacheAction","localStorage","removeItem","changeThemeAction","authenticationAction","apiKey","cbURL","encodeURIComponent","href","url","concat","settingsOptions","id","label","action","icon","children","className","settingsTable","map","option","htmlFor","onClick"],"sources":["C:/Users/jules/source/repos/jaykang98/jaze/src/components/Settings/Settings.tsx"],"sourcesContent":["// Settings.tsx\r\nimport React, { useEffect, useContext } from 'react';\r\nimport styles from './Settings.module.css';\r\nimport Button from '../../ui/button/Button';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash, faPalette, faKey } from '@fortawesome/free-solid-svg-icons';\r\nimport { HandleAuthContext } from '../../utils/HandleAuth'; // Adjusted for context usage\r\n\r\nconst Settings = () => {\r\n    const { setAuth } = useContext(HandleAuthContext); // Using context to access setAuth\r\n\r\n    // Function to extract the token from the callback URL and handle it.\r\n    const handleCallback = () => {\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const token = urlParams.get('token');\r\n        if (token) {\r\n            setAuth(token); // Properly using setAuth from HandleAuth\r\n            console.log('Authorization token processed.');\r\n        }\r\n    };\r\n\r\n    // Effect to run handleCallback on mount\r\n    useEffect(() => {\r\n        handleCallback();\r\n    }, [handleCallback]);\r\n\r\n    const clearCacheAction = () => {\r\n        console.log('Clear cache action');\r\n        localStorage.removeItem('yourItemKey');\r\n    };\r\n\r\n    const changeThemeAction = () => {\r\n        console.log('Change theme action');\r\n    };\r\n\r\n    const authenticationAction = () => {\r\n        const apiKey = '053905e1fc8b0de378dc341a24ec68c7';\r\n        const cbURL = encodeURIComponent(window.location.href);\r\n        const url = `https://www.last.fm/api/auth/?api_key=${apiKey}&cb=${cbURL}`;\r\n        window.location.href = url;\r\n        console.log('Get authorization action initiated.');\r\n    };\r\n\r\n    const settingsOptions = [\r\n        { id: 'clearCache', label: 'Clear Cache', action: clearCacheAction, icon: faTrash },\r\n        { id: 'themeSwap', label: 'Change Theme', action: changeThemeAction, icon: faPalette },\r\n        { id: 'getAuth', label: 'Authentication', action: authenticationAction, icon: faKey },\r\n    ];\r\n\r\n    return (\r\n        <section>\r\n            <h2>Settings</h2>\r\n            <table className={styles.settingsTable}>\r\n                <tbody>\r\n                    {settingsOptions.map(option => (\r\n                        <tr key={option.id}>\r\n                            <td><FontAwesomeIcon icon={option.icon} /></td>\r\n                            <td><label htmlFor={option.id} className={styles.label}>{option.label}</label></td>\r\n                            <td><Button onClick={option.action}>{option.label}</Button></td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Settings;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,MAAO,CAAAC,MAAM,KAAM,uBAAuB,CAC1C,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,OAAO,CAAEC,SAAS,CAAEC,KAAK,KAAQ,mCAAmC,CAC7E,OAASC,iBAAiB,KAAQ,wBAAwB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,OAAQ,CAAC,CAAGb,UAAU,CAACO,iBAAiB,CAAC,CAAE;AAEnD;AACA,KAAM,CAAAO,cAAc,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAC7D,KAAM,CAAAC,KAAK,CAAGL,SAAS,CAACM,GAAG,CAAC,OAAO,CAAC,CACpC,GAAID,KAAK,CAAE,CACPP,OAAO,CAACO,KAAK,CAAC,CAAE;AAChBE,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CACjD,CACJ,CAAC,CAED;AACAxB,SAAS,CAAC,IAAM,CACZe,cAAc,CAAC,CAAC,CACpB,CAAC,CAAE,CAACA,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAU,gBAAgB,CAAGA,CAAA,GAAM,CAC3BF,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACjCE,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC,CAC1C,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC5BL,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACtC,CAAC,CAED,KAAM,CAAAK,oBAAoB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,MAAM,CAAG,kCAAkC,CACjD,KAAM,CAAAC,KAAK,CAAGC,kBAAkB,CAACd,MAAM,CAACC,QAAQ,CAACc,IAAI,CAAC,CACtD,KAAM,CAAAC,GAAG,0CAAAC,MAAA,CAA4CL,MAAM,SAAAK,MAAA,CAAOJ,KAAK,CAAE,CACzEb,MAAM,CAACC,QAAQ,CAACc,IAAI,CAAGC,GAAG,CAC1BX,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC,CACtD,CAAC,CAED,KAAM,CAAAY,eAAe,CAAG,CACpB,CAAEC,EAAE,CAAE,YAAY,CAAEC,KAAK,CAAE,aAAa,CAAEC,MAAM,CAAEd,gBAAgB,CAAEe,IAAI,CAAEnC,OAAQ,CAAC,CACnF,CAAEgC,EAAE,CAAE,WAAW,CAAEC,KAAK,CAAE,cAAc,CAAEC,MAAM,CAAEX,iBAAiB,CAAEY,IAAI,CAAElC,SAAU,CAAC,CACtF,CAAE+B,EAAE,CAAE,SAAS,CAAEC,KAAK,CAAE,gBAAgB,CAAEC,MAAM,CAAEV,oBAAoB,CAAEW,IAAI,CAAEjC,KAAM,CAAC,CACxF,CAED,mBACIK,KAAA,YAAA6B,QAAA,eACI/B,IAAA,OAAA+B,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB/B,IAAA,UAAOgC,SAAS,CAAExC,MAAM,CAACyC,aAAc,CAAAF,QAAA,cACnC/B,IAAA,UAAA+B,QAAA,CACKL,eAAe,CAACQ,GAAG,CAACC,MAAM,eACvBjC,KAAA,OAAA6B,QAAA,eACI/B,IAAA,OAAA+B,QAAA,cAAI/B,IAAA,CAACN,eAAe,EAACoC,IAAI,CAAEK,MAAM,CAACL,IAAK,CAAE,CAAC,CAAI,CAAC,cAC/C9B,IAAA,OAAA+B,QAAA,cAAI/B,IAAA,UAAOoC,OAAO,CAAED,MAAM,CAACR,EAAG,CAACK,SAAS,CAAExC,MAAM,CAACoC,KAAM,CAAAG,QAAA,CAAEI,MAAM,CAACP,KAAK,CAAQ,CAAC,CAAI,CAAC,cACnF5B,IAAA,OAAA+B,QAAA,cAAI/B,IAAA,CAACP,MAAM,EAAC4C,OAAO,CAAEF,MAAM,CAACN,MAAO,CAAAE,QAAA,CAAEI,MAAM,CAACP,KAAK,CAAS,CAAC,CAAI,CAAC,GAH3DO,MAAM,CAACR,EAIZ,CACP,CAAC,CACC,CAAC,CACL,CAAC,EACH,CAAC,CAElB,CAAC,CAED,cAAe,CAAAxB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}