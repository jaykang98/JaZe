{"ast":null,"code":"import React,{useRef,useState,useLayoutEffect}from'react';import Button from'../../ui/button/Button';import styles from'./TimeSelectionRow.module.css';// Import the CSS module for styling\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const YearButtons=_ref=>{let{label,timestamp,onYearSelect,onChange}=_ref;const currentYear=new Date().getFullYear();const years=Array.from({length:4},(_,i)=>currentYear-i);const containerRef=useRef(null);const[visibleButtons,setVisibleButtons]=useState(years.length);useLayoutEffect(()=>{if(containerRef.current){const containerWidth=containerRef.current.offsetWidth;const buttonWidth=60;const numberOfButtons=Math.floor(containerWidth/buttonWidth);setVisibleButtons(numberOfButtons);}},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:label}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:timestamp,onChange:onChange}),/*#__PURE__*/_jsx(\"div\",{className:styles.yearButtonsContainer,ref:containerRef,children:years.slice(0,visibleButtons).map(year=>/*#__PURE__*/_jsx(Button,{onClick:()=>onYearSelect(year),children:year},year))})]});};export default YearButtons;","map":{"version":3,"names":["React","useRef","useState","useLayoutEffect","Button","styles","jsx","_jsx","jsxs","_jsxs","YearButtons","_ref","label","timestamp","onYearSelect","onChange","currentYear","Date","getFullYear","years","Array","from","length","_","i","containerRef","visibleButtons","setVisibleButtons","current","containerWidth","offsetWidth","buttonWidth","numberOfButtons","Math","floor","children","type","value","className","yearButtonsContainer","ref","slice","map","year","onClick"],"sources":["C:/Users/jacob/Source/Repos/jaze2/src/ui/timeSelectionRow/TimeSelectionRow.tsx"],"sourcesContent":["import React, { useRef, useState, useLayoutEffect } from 'react';\r\nimport Button from '../../ui/button/Button';\r\nimport styles from './TimeSelectionRow.module.css'; // Import the CSS module for styling\r\n\r\ninterface YearButtonsProps {\r\n    label: string;\r\n    timestamp: string; // Add this line\r\n    onYearSelect: (year: number) => void;\r\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void; // Add this line if it's missing\r\n}\r\n\r\nconst YearButtons: React.FC<YearButtonsProps> = ({ label, timestamp, onYearSelect, onChange }) => {\r\n    const currentYear = new Date().getFullYear();\r\n    const years = Array.from({ length: 4 }, (_, i) => currentYear - i);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const [visibleButtons, setVisibleButtons] = useState(years.length);\r\n\r\n    useLayoutEffect(() => {\r\n        if (containerRef.current) {\r\n            const containerWidth = containerRef.current.offsetWidth;\r\n            const buttonWidth = 60;\r\n            const numberOfButtons = Math.floor(containerWidth / buttonWidth);\r\n            setVisibleButtons(numberOfButtons);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <label>{label}</label>\r\n            <input\r\n                type=\"datetime-local\"\r\n                value={timestamp}\r\n                onChange={onChange}\r\n            />\r\n            <div className={styles.yearButtonsContainer} ref={containerRef}>\r\n                {years.slice(0, visibleButtons).map(year => (\r\n                    <Button key={year} onClick={() => onYearSelect(year)}>\r\n                        {year}\r\n                    </Button>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default YearButtons;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,CAAEC,eAAe,KAAQ,OAAO,CAChE,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBASpD,KAAM,CAAAC,WAAuC,CAAGC,IAAA,EAAkD,IAAjD,CAAEC,KAAK,CAAEC,SAAS,CAAEC,YAAY,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACzF,KAAM,CAAAK,WAAW,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAC5C,KAAM,CAAAC,KAAK,CAAGC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,CAAE,CAAC,CAAE,CAACC,CAAC,CAAEC,CAAC,GAAKR,WAAW,CAAGQ,CAAC,CAAC,CAClE,KAAM,CAAAC,YAAY,CAAGxB,MAAM,CAAiB,IAAI,CAAC,CACjD,KAAM,CAACyB,cAAc,CAAEC,iBAAiB,CAAC,CAAGzB,QAAQ,CAACiB,KAAK,CAACG,MAAM,CAAC,CAElEnB,eAAe,CAAC,IAAM,CAClB,GAAIsB,YAAY,CAACG,OAAO,CAAE,CACtB,KAAM,CAAAC,cAAc,CAAGJ,YAAY,CAACG,OAAO,CAACE,WAAW,CACvD,KAAM,CAAAC,WAAW,CAAG,EAAE,CACtB,KAAM,CAAAC,eAAe,CAAGC,IAAI,CAACC,KAAK,CAACL,cAAc,CAAGE,WAAW,CAAC,CAChEJ,iBAAiB,CAACK,eAAe,CAAC,CACtC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIvB,KAAA,QAAA0B,QAAA,eACI5B,IAAA,UAAA4B,QAAA,CAAQvB,KAAK,CAAQ,CAAC,cACtBL,IAAA,UACI6B,IAAI,CAAC,gBAAgB,CACrBC,KAAK,CAAExB,SAAU,CACjBE,QAAQ,CAAEA,QAAS,CACtB,CAAC,cACFR,IAAA,QAAK+B,SAAS,CAAEjC,MAAM,CAACkC,oBAAqB,CAACC,GAAG,CAAEf,YAAa,CAAAU,QAAA,CAC1DhB,KAAK,CAACsB,KAAK,CAAC,CAAC,CAAEf,cAAc,CAAC,CAACgB,GAAG,CAACC,IAAI,eACpCpC,IAAA,CAACH,MAAM,EAAYwC,OAAO,CAAEA,CAAA,GAAM9B,YAAY,CAAC6B,IAAI,CAAE,CAAAR,QAAA,CAChDQ,IAAI,EADIA,IAEL,CACX,CAAC,CACD,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAjC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}